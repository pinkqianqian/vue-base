<template>
    <div class="bangker-productPlan" id="productPlan">
        <div class="productPlanContent">
            <h3>产品规划</h3>
            <div class="timeAxisIcon">
                <div class="icon"></div>
            </div>
            <div class="timeAxis">
                <div class="timeAxis-left">
                    <div class="item" >
                        <div class="itemContent" id="timeItem1">
                            <div class="itemContentOne">
                                <div class="itemContentOne-left">
                                    <p class="num">{{dataOne}}</p>
                                    <p class="text">第一阶段</p>
                                </div>
                                <div class="itemContentOne-right">
                                    <h5>高起点出发</h5>
                                    <p>引入合作伙伴世界邦成熟的系统、海量数据和达人，集成数字货币激励和支付，热启动</p>
                                </div>
                            </div>
                            <div class="itemContentOne">
                                <div class="itemContentOne-left">
                                    <p class="text padTop10">Q2</p>
                                </div>
                                <div class="itemContentOne-right">
                                    <p>根据合作伙伴世界邦已有的业务和生态，设计基于区块链为底层技术的架构，以及去中心化的产品架构</p>
                                </div>
                            </div>
                            <div class="itemContentOne">
                                <div class="itemContentOne-left">
                                    <p class="text padTop10">Q3</p>
                                </div>
                                <div class="itemContentOne-right">
                                    <p>将世界邦社区成熟的内容发布/问答/旅行定制系统系统搬过来，集成数字货币激励；引入已有的海量优质内容、行程等数据上区块链；引入已有的2000+名达人，形成热启动</p>
                                </div>
                            </div>
                            <div class="itemContentOne">
                                <div class="itemContentOne-left">
                                    <p class="text padTop10">Q4</p>
                                </div>
                                <div class="itemContentOne-right borderNo padding0">
                                    <p>将世界邦成熟的旅行商城搬过来，集成数字货币支付；引入已有的280万+精选旅行产品上区块链；完成客户端1.0</p>
                                </div>
                            </div>
                        </div>
                        <div class="itemLine">
                            <div class="itemLineBox">
                                <div class="line"></div>
                                <div class="bar bar-left"></div>
                                <div class="point"></div>
                            </div>
                            <div class="itemLineBox">
                                <div class="line"></div>
                                <div class="bar bar-right"></div>
                                <div class="point"></div>
                            </div>
                        </div>
                    </div>
                    <div class="item">
                        <div class="itemContent" id="timeItem2">
                            <div class="itemContentOne">
                                <div class="itemContentOne-left">
                                    <p class="num">{{dataTwo}}</p>
                                    <p class="text">第二阶段</p>
                                </div>
                                <div class="itemContentOne-right">
                                    <h5>大爆发</h5>
                                    <p>高度全球化，全面拓展业务范围成为目的地生活服务平台，建立开放平台，升级为实时问答引爆流量</p>
                                </div>
                            </div>
                            <div class="itemContentOne">
                                <div class="itemContentOne-left">
                                    <p class="text padTop10">Q1</p>
                                </div>
                                <div class="itemContentOne-right">
                                    <p>完成全球化第三步：俄罗斯、印度；完成开放平台，对外提供API，大规模引入各类合作方；完成客户端3.1</p>
                                </div>
                            </div>
                            <div class="itemContentOne">
                                <div class="itemContentOne-left">
                                    <p class="text padTop10">Q2</p>
                                </div>
                                <div class="itemContentOne-right">
                                    <p>完成全球化第四步：欧洲；业务全面覆盖吃住行游购娱，成为目的地生活服务平台；完成客户端3.2</p>
                                </div>
                            </div>
                            <div class="itemContentOne">
                                <div class="itemContentOne-left">
                                    <p class="text padTop10">Q3</p>
                                </div>
                                <div class="itemContentOne-right">
                                    <p>完成全球化第五步：南美；问答升级为实时问答，引爆高质旅游流量；完成客户端3.3</p>
                                </div>
                            </div>
                            <div class="itemContentOne">
                                <div class="itemContentOne-left">
                                    <p class="text padTop10">Q4</p>
                                </div>
                                <div class="itemContentOne-right borderNo padding0">
                                    <p>完成全球化第六步：大洋洲；完成客户端3.4</p>
                                </div>
                            </div>
                        </div>
                        <div class="itemLine">
                            <div class="itemLineBox">
                                <div class="line"></div>
                                <div class="bar bar-left"></div>
                                <div class="point"></div>
                            </div>
                            <div class="itemLineBox">
                                <div class="line"></div>
                                <!-- <div class="bar bar-right"></div> -->
                                <!-- <div class="point"></div> -->
                            </div>
                        </div>
                    </div>
                </div>
                <div class="timeAxis-right">
                    <div class="item" style="margin-top: 280px;">
                        <div class="itemContent" id="timeItem3">
                            <div class="itemContentOne">
                                <div class="itemContentOne-left">
                                    <p class="num">{{dataThree}}</p>
                                    <p class="text">第二阶段</p>
                                </div>
                                <div class="itemContentOne-right">
                                    <h5>高速增长</h5>
                                    <p>去中心化的投诉裁决体系，全球化，初步拓展业务范围，精细化运营，内容优化</p>
                                </div>
                            </div>
                            <div class="itemContentOne">
                                <div class="itemContentOne-left">
                                    <p class="text padTop10">Q1</p>
                                </div>
                                <div class="itemContentOne-right">
                                    <p class="gray">建立去中心化的投诉裁决体系；完成客户端2.1；完成Web/H5</p>
                                </div>
                            </div>
                            <div class="itemContentOne">
                                <div class="itemContentOne-left">
                                    <p class="text padTop10">Q2</p>
                                </div>
                                <div class="itemContentOne-right">
                                    <p class="gray">完成全球化第一站日文站；精细化运营；完成客户端2.2</p>
                                </div>
                            </div>
                            <div class="itemContentOne">
                                <div class="itemContentOne-left">
                                    <p class="text padTop10">Q3</p>
                                </div>
                                <div class="itemContentOne-right">
                                    <p>完成全球化第二站英文站；完成个性化推荐内容算法；完成客户端2.3</p>
                                </div>
                            </div>
                            <div class="itemContentOne">
                                <div class="itemContentOne-left">
                                    <p class="text padTop10">Q4</p>
                                </div>
                                <div class="itemContentOne-right borderNo padding0">
                                    <p>初步拓展旅行之外的业务范围到餐饮、购物；优化内容，提高内容到旅行产品交易的转化；完成客户端2.4</p>
                                </div>
                            </div>
                        </div>
                        <!-- <div class="itemLine">
                            <div class="itemLineBox">
                                <div class="line"></div>
                                <div class="bar bar-left"></div>
                                <div class="point"></div>
                            </div>
                            <div class="itemLineBox">
                                <div class="line"></div>
                                <div class="bar bar-right"></div>
                                <div class="point"></div>
                            </div>
                        </div> -->
                    </div>
                </div>
            </div>
            <div class="timeAxisIcon">
                <div class="icon"></div>
            </div>
        </div>
    </div>
</template>
<script>
    export default {
         data() {
            return {
                dataOne: 0,
                dataTwo: 0,
                dataThree: 0
            }
        },
        computed: {
            dataThreeComputed() {
                return this.dataThree.length>3?`${this.dataThree.slice(0,1)},${this.dataThree.slice(1,4)}`:this.dataThree
            }
        },
        mounted() {

            let tweenTimeItem1 = TweenMax.to('#timeItem1',1, {
                opacity: 1,
                ease: Back.easeOut
            })
            let tweenTimeItem2 = TweenMax.to('#timeItem2',1, {
                opacity: 1,
                ease: Back.easeOut
            })
            let tweenTimeItem3 = TweenMax.to('#timeItem3',1, {
                opacity: 1,
                ease: Back.easeOut
            })
            // build scene
            new ScrollMagic.Scene({ triggerElement: "#timeItem1", duration: 400, offset: -200})
                .setTween(tweenTimeItem1)
                .addTo(controller);
             // build scene
            new ScrollMagic.Scene({ triggerElement: "#timeItem2", duration: 400, offset: -200})
                .setTween(tweenTimeItem2)
                .addTo(controller);
             // build scene
            new ScrollMagic.Scene({ triggerElement: "#timeItem3", duration: 400, offset: -200})
                .setTween(tweenTimeItem3)
                .addTo(controller);


            new ScrollMagic.Scene({ triggerElement: "#timeItem1"})
                .setTween(this.makeTween(2018, 'dataOne'))
                .addTo(controller);
            new ScrollMagic.Scene({ triggerElement: "#timeItem2"})
                .setTween(this.makeTween(2019, 'dataTwo'))
                .addTo(controller);
            new ScrollMagic.Scene({ triggerElement: "#timeItem3" })
                .setTween(this.makeTween(2020, 'dataThree'))
                .addTo(controller);
        },
        methods: {
            makeTween(num, target) {
                let self = this
                let numObject = {
                    x: 0
                }
                return new TweenMax(numObject, 1, {
                    x:num,
                    onUpdateParams: [numObject, "param"],
                    onUpdate(params){
                        self[target] = params.x.toFixed(0)
                    }
                })
            }
        }
    }
</script>
